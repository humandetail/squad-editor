var ce=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var o=(i,t,e)=>(ce(i,t,"read from private field"),e?e.call(i):t.get(i)),S=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},_=(i,t,e,n)=>(ce(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e);import{r as x,l as Le,n as m,d as E,w as fe,o as v,c as w,a as V,b as G,F as te,e as de,u as g,f as D,g as me,t as Me,i as H,m as Te,H as ne,h as ze,M as $e,j as Ie,k as Ce,p as Ve,q as Ee,s as Be,v as Re,x as De,y as Pe,z as qe,A as Z,B as Ke,C as Ue,D as we,E as We,G as Ae,I as Fe,J as M,K as Oe}from"./vendor.1bde240d.js";const je=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}};je();const ue=i=>{const t=x(i);return[t,n=>{t.value=n}]},Je=typeof window!="undefined";var Ne=()=>{if(!Je)return;const i=document.querySelector("#J_squad-editor-input-wrapper"),t=document.querySelector("#J_squad-editor-preview-wrapper");let e=!1,n=!1;if(!i||!t)return;const s=Le(r=>{const a=r.target,c=a===i;if(c){if(e=!0,n){e=!1;return}}else if(n=!0,e){n=!1;return}const l=c?t:i,{height:k}=a.getBoundingClientRect(),{height:L}=l.getBoundingClientRect(),z=a.scrollTop/(a.scrollHeight-k);l.scroll({left:0,top:(l.scrollHeight-L)*z})},8);i.addEventListener("scroll",s,!1),t.addEventListener("scroll",s,!1),i.addEventListener("mouseleave",()=>{e=!1},!1),t.addEventListener("mouseleave",()=>{n=!1},!1)};const U="](url)";function Ze([i,t]){return i===t}function C(i,[t,e]){return i.substring(t,e)}function Ge(i,t,e=0){const n=t[0]-e>0?t[0]-e:0,s=t[1];return[i.substring(n,n+e),i.substring(s,s+e)]}function he(i,t,e="link"){const n=e==="link"?1:2,s=t[0]>0?t[0]-n:0,r=t[1];return[i.substring(s,s+n),i.substring(r,r+U.length)]}function se(i,t){let[e]=t;if(e<=0)return["",e];let n="";for(;!n.startsWith(`
`)&&e>0;)n=i.substring(--e,t[1]);return n.startsWith(`
`)?[n.substring(1),e+1]:[n,e]}function pe(i,t){let[,e]=t;if(e>=i.length)return["",e];let n="";for(;!n.endsWith(`
`)&&e<i.length;)n=i.substring(t[1],++e);return n.endsWith(`
`)?[n.substring(0,e-1),e-1]:[n,e]}function Qe(i){return i.metaKey||i.ctrlKey}var p,y,W,Q;class Xe{constructor(t,e){S(this,p,()=>{});S(this,y,()=>{});S(this,W,{heading:this.setHeading,bold:this.setBold,strikethrough:this.setStrikethrough,italic:this.setItalic,orderedList:this.setOrderedList,unorderedList:this.setUnorderedList,code:this.setCode,link:this.setLink,picture:this.setPicture});S(this,Q,{"- [x] ":"- [] ","- [] ":"- [] ","- ":"- ","+ ":"+ "});_(this,p,t),_(this,y,e)}clearRangeTextFormat(t,[e,n],s=0){const r=C(t,[e,n]);o(this,y).call(this,[e-s,n+s]),m(()=>{o(this,p).call(this,r,"select",[e-s,n-s])})}exec(t,e,n){var s,r;if(["h1","h2","h3","h4","h5","h6"].includes(t)){(s=o(this,W).heading)==null||s.call(this,+t.replace("h",""),e,n);return}(r=o(this,W)[t])==null||r.call(this,e,n)}async handlerEnterPress(t,e){const[n,s]=se(t,e),r=n.match(/^(-\s{1}\[x?\]|-|\+|\d+\.)\s{1}?/);if(!r){o(this,p).call(this,`
`,"end");return}const a=r[0],[c,l]=s+a.length===e[0]?pe(t,[e[1],e[1]]):pe(t,[s+a.length,s+a.length]);if(!c||c===`
`){o(this,y).call(this,[s,e[1]]),await m(),o(this,p).call(this,"","end");return}if(/^\d+/.test(a)){o(this,p).call(this,`
${+a.split(".")[0]+1}. `,"end");return}o(this,p).call(this,`
${o(this,Q)[a]}`,"end")}setSymmetricalRuleText(t,e,n){const s=t.length,r=Ge(e,n,s),a=t.split("").reverse().join("");if((t==="```\n"||!r[0].includes(`
`)&&!r[1].includes(`
`))&&r[0]===t&&r[1]===a){this.clearRangeTextFormat(e,n,s);return}if(Ze(n))o(this,p).call(this,t+a,"end",[n[0]+s,n[0]+s]);else{const c=C(e,n),l=n[0]+s;o(this,p).call(this,`${t}${C(e,n)}${a}`,"select",[l,l+c.length])}}setUnilateralRuleText(t,e,n){const s=t.length+1,[r,a]=se(e,n);if(!r){o(this,p).call(this,t+" ","end");return}if(r.startsWith(t+" ")){const l=[a,a+s];o(this,y).call(this,l),m(()=>{o(this,p).call(this,"","end",[n[0]-s,n[1]-s])});return}const c=[a,n[1]];o(this,y).call(this,c),m().then(()=>{o(this,p).call(this,`${t+" "}${C(e,c)}`,"select",[n[0]+s,n[1]+s])})}setHeading(t,e,n){this.setUnilateralRuleText("#".repeat(t),e,n)}setStrikethrough(t,e){this.setSymmetricalRuleText("~~",t,e)}setBold(t,e){this.setSymmetricalRuleText("**",t,e)}setItalic(t,e){this.setSymmetricalRuleText("_",t,e)}setCode(t,e){const s=C(t,e).includes(`
`);this.setSymmetricalRuleText(s?"```\n":"`",t,e)}setLink(t,[e,n]){const s=C(t,[e,n]),[r,a]=he(t,[e,n]);if(r==="["&&a===U){const c=[e-1,n+U.length];o(this,y).call(this,c),m(()=>{o(this,p).call(this,s,"end",[e-1,n-1])});return}o(this,p).call(this,`[${s}](url)`,"select",s?[n+1+2,n+1+2+3]:[e+1,n+1])}setPicture(t,[e,n]){const s=C(t,[e,n]),[r,a]=he(t,[e,n],"picture");if(r==="!["&&a===U){const c=[e-2,n+U.length];o(this,y).call(this,c),m(()=>{o(this,p).call(this,s,"end",[e-2,n-2])});return}o(this,p).call(this,`![${s}](url)`,"select",s?[n+2+2,n+2+2+3]:[e+2,n+2])}async setOrderedList(t,e){const[n,s]=se(t,e);if(/^\d+\.\s{1}/.test(n)){o(this,y).call(this,[s,n.length]),await m(),o(this,p).call(this,"","end",[e[0]-n.length,e[1]-n.length]);return}this.setUnilateralRuleText("1.",t,e)}setUnorderedList(t,e){this.setUnilateralRuleText("-",t,e)}}p=new WeakMap,y=new WeakMap,W=new WeakMap,Q=new WeakMap;var R,A,F,O,T,j;class Ye{constructor(t,e,n,s,r){S(this,R,()=>{});S(this,A,()=>{});S(this,F,()=>[0,0]);S(this,O,()=>"");S(this,T,[]);S(this,j,t=>Promise.resolve({name:"",url:""}));_(this,R,t),_(this,A,e),_(this,F,n),_(this,O,s),r&&_(this,j,r)}async requestUpload(t){let e;const n=t.length;for(let s=0;s<n;s++)e=t[s],await m(),o(this,R).call(this,`
![Uploading ${e.name}]()
`,"end"),!o(this,T).includes(e.name)&&(_(this,T,[...new Set([...o(this,T),e.name])]),o(this,j).call(this,e).then(r=>{this.uploaded(r,e.name)}))}async uploaded(t,e){const n=o(this,F).call(this),s=o(this,O).call(this),r=s.substring(0,n[0]),a=s.substring(...n),c=s.substring(n[1]),l=r.replaceAll(`![Uploading ${e}]()`,`<img src="${t.url}" alt="${t.name}" />`),k=c.replaceAll(`![Uploading ${e}]()`,`<img src="${t.url}" alt="${t.name}" />`),L=[n[0]+(l.length-r.length),n[1]+(l.length-r.length)];o(this,A).call(this,[0,s.length]),await m(),o(this,R).call(this,`${l}${a}${k}`,"end",L),_(this,T,o(this,T).filter(z=>z!==e))}}R=new WeakMap,A=new WeakMap,F=new WeakMap,O=new WeakMap,T=new WeakMap,j=new WeakMap;const et="modulepreload",ge={},tt="/",nt=function(t,e){return!e||e.length===0?t():Promise.all(e.map(n=>{if(n=`${tt}${n}`,n in ge)return;ge[n]=!0;const s=n.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":et,s||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),s)return new Promise((c,l)=>{a.addEventListener("load",c),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())},xe='<svg t="1646892673545" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5877" width="20" height="20"><path d="M474.91 67h74.19v890h-74.19z" p-id="5878"></path></svg>',re='<svg t="1646892924765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5376" width="20" height="20"><path d="M864 896H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h704a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zM192 832h640V192H192v640z" p-id="5377"></path></svg>',st='<svg t="1646891879728" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7010" width="20" height="20"><path d="M860.992 558.912C627.904 317.536 352.384 283.648 44.8 459.296a38.4 38.4 0 1 0 38.08 66.688c278.432-159.008 516.896-129.408 726.08 89.696L640 800h352V416l-131.008 142.912z" p-id="7011"></path></svg>',it='<svg t="1646892025244" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7170" width="20" height="20"><path d="M995.648 459.296C684.448 281.568 406.08 318.656 171.232 567.904L32 416v384h352l-160.736-175.328c211.168-227.072 452.192-259.776 734.304-98.688a38.4 38.4 0 0 0 38.08-66.688z" p-id="7171"></path></svg>',rt='<svg t="1646892040929" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7319" width="20" height="20"><path d="M736 96v384H288V96H192v864h96V544h448v416h96V96z" p-id="7320"></path></svg>',at='<svg t="1646892066698" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7468" width="20" height="20"><path d="M768.96 575.072c-22.144-34.112-54.816-56.8-97.984-68.032v-2.176c22.88-10.88 42.112-23.04 57.696-36.48 15.616-12.704 27.584-26.144 35.936-40.288 16.32-29.76 24.128-60.96 23.392-93.632 0-63.872-19.776-115.232-59.328-154.08-39.2-38.464-97.824-58.048-175.84-58.784H215.232v793.728H579.52c62.432 0 114.496-20.864 156.256-62.624 42.112-39.936 63.52-94.176 64.224-162.752 0-41.376-10.336-79.68-31.04-114.88zM344.32 228.832h194.912c43.904 0.736 76.224 11.424 96.896 32.128 21.056 22.144 31.584 49.184 31.584 81.12s-10.528 58.432-31.584 79.488c-20.672 22.848-52.992 34.304-96.896 34.304H344.32V228.832z m304.352 536.256c-20.672 23.584-53.344 35.744-97.984 36.48H344.32v-238.432h206.336c44.64 0.704 77.312 12.512 97.984 35.392 20.672 23.232 31.04 51.168 31.04 83.84 0 31.904-10.336 59.488-31.008 82.72z" p-id="7469"></path></svg>',ot='<svg t="1646892101294" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7617" width="20" height="20"><path d="M893.088 501.792H125.344a32 32 0 0 0 0 64h767.744a32 32 0 0 0 0-64zM448 448h112V208h288V96H160v112h288zM448 640h112v288H448z" p-id="7618"></path></svg>',lt='<svg t="1646892128562" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7766" width="20" height="20"><path d="M768 85.792h-288a32 32 0 0 0 0 64h96.32l-230.336 704H256a32 32 0 0 0 0 64h288a32 32 0 0 0 0-64h-93.728l230.528-704H768a32 32 0 0 0 0-64z" p-id="7767"></path></svg>',ct='<svg t="1646892160318" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7915" width="20" height="20"><path d="M288 160h640v96H288zM288 464h640v96H288zM288 768h640v96H288z" p-id="7916"></path><path d="M160 208m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="7917"></path><path d="M160 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="7918"></path><path d="M160 816m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="7919"></path></svg>',dt='<svg t="1646892175519" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8067" width="20" height="20"><path d="M99.232 288h54.848V86.848H63.264v54.88h35.968zM64 461.728h64l-64 91.424V608h128v-54.848H128l64-91.424v-54.88H64zM64 781.728h73.152V800H95.36v54.848h41.792v18.304H64V928h128v-201.152H64zM288 160h640v96H288zM288 464h640v96H288zM288 768h640v96H288z" p-id="8068"></path></svg>',ut='<svg t="1646892203737" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8216" width="20" height="20"><path d="M910.496 213.536C804.16 82.208 611.488 61.952 480.128 168.32l-100.768 81.6 50.336 62.176 100.768-81.6a225.984 225.984 0 1 1 284.448 351.264l-107.968 87.424 50.336 62.176 107.968-87.424a305.984 305.984 0 0 0 45.248-430.4zM516.352 823.552a225.984 225.984 0 1 1-284.448-351.264l110.976-89.856-50.336-62.176-110.976 89.856C50.24 516.448 29.984 709.152 136.32 840.48c106.336 131.328 299.04 151.584 430.368 45.248l105.12-85.12-50.336-62.176-105.12 85.12z" p-id="8217"></path><path d="M676.16 353.28l51.232 61.44-343.552 286.304-51.2-61.44z" p-id="8218"></path></svg>',ht='<svg t="1646892214834" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8366" width="20" height="20"><path d="M300.224 224L32 525.76l268.224 301.76 71.776-63.776-211.552-237.984 211.552-237.984zM711.744 224L640 287.776l211.552 237.984L640 763.744l71.744 63.776 268.256-301.76z" p-id="8367"></path></svg>',pt='<svg t="1646892230552" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8515" width="20" height="20"><path d="M896 626.592a16 16 0 0 0-7.68-13.664l-172.448-105.088a16 16 0 0 0-20.704 3.52l-76 92.608-1.024 1.152a16 16 0 0 1-22.624 0.032l-252.832-252.064a16.032 16.032 0 0 0-22.08-0.512l-187.36 170.656a15.936 15.936 0 0 0-5.248 11.84V800h768v-173.408z" p-id="8516"></path><path d="M800 320m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" p-id="8517"></path><path d="M32 128v768h960V128H32z m896 704H96V192h832v640z" p-id="8518"></path></svg>',gt='<svg t="1646892244504" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8666" width="20" height="20"><path d="M368.896 192H224a32 32 0 0 0-32 32v137.888a32 32 0 0 0 64 0V256h112.896a32 32 0 0 0 0-64zM784.864 192H640a32 32 0 1 0 0 64h112.864v105.888a32 32 0 1 0 64 0V224a32 32 0 0 0-32-32zM368.896 777.92H256V672a32 32 0 1 0-64 0v137.92a32 32 0 0 0 32 32h144.896a32 32 0 1 0 0-64zM784.864 640a32 32 0 0 0-32 32v105.92H640a32 32 0 1 0 0 64h144.864a32 32 0 0 0 32-32V672a32 32 0 0 0-32-32z" p-id="8667"></path><path d="M912 48h-800c-35.296 0-64 28.704-64 64v800c0 35.296 28.704 64 64 64h800c35.296 0 64-28.704 64-64v-800c0-35.296-28.704-64-64-64z m-800 864v-800h800l0.064 800H112z" p-id="8668"></path></svg>';var vt=Object.freeze(Object.defineProperty({__proto__:null,divider:xe,defaultIcon:re,redo:st,undo:it,heading:rt,bold:at,strikethrough:ot,italic:lt,unorderedList:ct,orderedList:dt,link:ut,code:ht,picture:pt,fullscreen:gt},Symbol.toStringTag,{value:"Module"}));const ft=["disabled"],mt=["title","innerHTML"],wt={key:1,class:"btn-toolbar-item divider"},xt=["title","innerHTML"],ie=E({props:{toolName:{default:""},icon:{default:""},disabled:{type:Boolean,default:!1}},emits:["item-click"],setup(i){const t=i,e=x(re);return fe(()=>t.icon,async n=>{if(!n)return;if(n==="|"){e.value=xe;return}if(/<svg>(.*?)<\/svg>/.test(n)){e.value=n;return}const s=await nt(()=>Promise.resolve().then(function(){return vt}),void 0);if(s[n]){e.value=s[n];return}e.value=re},{immediate:!0}),(n,s)=>i.icon!=="|"?(v(),w("button",{key:0,class:"btn-toolbar-item",disabled:i.disabled,onClick:s[0]||(s[0]=r=>n.$emit("item-click",i.toolName))},[V("span",{class:"toolbar-icon",title:i.toolName,innerHTML:e.value},null,8,mt)],8,ft)):(v(),w("div",wt,[V("span",{class:"toolbar-icon",title:i.toolName,innerHTML:e.value},null,8,xt)]))}}),St={class:"squad-editor-toolbar-wrapper"},yt={class:"toolbar-fluid"},kt={key:1,class:"has-children"},bt={class:"toolbar-children"},_t=["onClick"],Ht={class:"toolbar-fixed-fluid"},Lt=E({props:{canUndo:{type:Boolean},canRedo:{type:Boolean}},emits:["item-click"],setup(i){const t=i,e=G(()=>[{name:"undo",text:"undo",icon:"undo",disabled:!t.canUndo},{name:"redo",text:"redo",icon:"redo",disabled:!t.canRedo},{name:"",text:"",icon:"|"},{name:"heading",icon:"heading",chidren:[{name:"h1",text:"\u4E00\u7EA7\u6807\u9898",icon:""},{name:"h2",text:"\u4E8C\u7EA7\u6807\u9898",icon:""},{name:"h3",text:"\u4E09\u7EA7\u6807\u9898",icon:""},{name:"h4",text:"\u56DB\u7EA7\u6807\u9898",icon:""},{name:"h5",text:"\u4E94\u7EA7\u6807\u9898",icon:""},{name:"h6",text:"\u516D\u7EA7\u6807\u9898",icon:""}]},{name:"italic",text:"italic",icon:"italic"},{name:"strikethrough",text:"strikethrough",icon:"strikethrough"},{name:"bold",text:"bold",icon:"bold"},{name:"",text:"",icon:"|"},{name:"orderedList",text:"orderedList",icon:"orderedList"},{name:"unorderedList",text:"unorderedList",icon:"unorderedList"},{name:"",text:"",icon:"|"},{name:"code",text:"code",icon:"code"},{name:"link",text:"link",icon:"link"},{name:"picture",text:"picture",icon:"picture"}]);return(n,s)=>(v(),w("section",St,[V("div",yt,[(v(!0),w(te,null,de(g(e),(r,a)=>(v(),w(te,{key:r.name+a},[r.chidren?(v(),w("div",kt,[D(ie,{"tool-name":r.name,text:r.text,icon:r.icon},null,8,["tool-name","text","icon"]),V("ul",bt,[(v(!0),w(te,null,de(r.chidren,(c,l)=>(v(),w("li",{key:c.name+l,class:"item",onClick:k=>n.$emit("item-click",c.name)},Me(c.text),9,_t))),128))])])):(v(),me(ie,{key:0,disabled:r.disabled,"tool-name":r.name,text:r.text,icon:r.icon,onItemClick:s[0]||(s[0]=c=>n.$emit("item-click",c))},null,8,["disabled","tool-name","text","icon"]))],64))),128))]),V("div",Ht,[D(ie,{"tool-name":"fullscreen",icon:"fullscreen",text:"fullscreen",onItemClick:s[1]||(s[1]=r=>n.$emit("item-click",r))})])]))}}),ae=Symbol("isCollapsed"),Se=Symbol("setIsCollapsed"),oe=Symbol("inputValue"),ye=Symbol("setInputValue"),ke=Symbol("selection"),be=Symbol("setSelection"),_e=Symbol("handleKeyDown"),He=Symbol("handlePaste"),Mt={class:"squad-editor-input-wrapper"},Tt=["value"],zt=["innerHTML"],$t=E({setup(i,{expose:t}){const e=x(),n=H(ae,x(!1)),s=H(Se,h=>{}),r=H(oe,x("")),a=H(ye,h=>{}),c=H(ke,x([0,0])),l=H(be,h=>{}),k=H(_e,h=>{}),L=H(He,h=>{}),z=G(()=>n.value?'<svg t="1646967162262" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1431" width="20" height="20"><path d="M810.666667 127.99999999a85.333333 85.333333 0 0 1 85.33333301 85.33333301L896.00000001 810.666667a85.333333 85.333333 0 0 1-85.33333301 85.33333301l-597.333334 0a85.333333 85.333333 0 0 1-85.33333301-85.33333301l0-597.333334a85.333333 85.333333 0 0 1 85.33333301-85.33333301L810.666667 127.99999999m-42.666667 341.33333301l-362.666667 0L554.666667 320l-60.586667-60.586667L241.493333 512l252.586667 252.586667L554.666667 704l-149.333334-149.333333L768 554.666667l0-85.333334z" fill="" p-id="1432"></path></svg>':'<svg t="1646965483310" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1282" width="20" height="20"><path d="M213.333333 896a85.333333 85.333333 0 0 1-85.333333-85.333333V213.333333a85.333333 85.333333 0 0 1 85.333333-85.333333h597.333334a85.333333 85.333333 0 0 1 85.333333 85.333333v597.333334a85.333333 85.333333 0 0 1-85.333333 85.333333H213.333333m42.666667-341.333333h362.666667L469.333333 704l60.586667 60.586667L782.506667 512l-252.586667-252.586667L469.333333 320l149.333334 149.333333H256v85.333334z" fill="" p-id="1283"></path></svg>'),X=h=>{a(h.target.value)},B=h=>{a(h.target.value)},$=h=>{const u=h.target;setTimeout(()=>{l([u.selectionStart,u.selectionEnd])},0)},Y=h=>{const u=h.target;l([u.selectionStart,u.selectionEnd])},ee=h=>{const u=h.target;l([u.selectionStart,u.selectionEnd])};return t({replaceText:(h,u="preserve",b)=>{var P,N,d,f;(P=e.value)==null||P.focus(),(N=e.value)==null||N.setRangeText(h,...c.value,u),a((f=(d=e.value)==null?void 0:d.value)!=null?f:""),m().then(()=>{var I,q,K;b?(l(b),(I=e.value)==null||I.setSelectionRange(...b)):((q=e.value)==null||q.blur(),(K=e.value)==null||K.focus())})}}),(h,u)=>(v(),w("div",Mt,[V("textarea",{ref_key:"editor",ref:e,class:"squad-editor__editor",value:g(r),id:"J_squad-editor-input-wrapper",onInput:X,onFocus:$,onBlur:Y,onChange:B,onKeydown:u[0]||(u[0]=(...b)=>g(k)&&g(k)(...b)),onPaste:u[1]||(u[1]=(...b)=>g(L)&&g(L)(...b)),onSelect:ee},null,40,Tt),V("div",{class:"btn-collapse",innerHTML:g(z),onClick:u[2]||(u[2]=b=>g(s)(!g(n)))},null,8,zt)]))}});const J=new Te({html:!0,xhtmlOut:!0,breaks:!0,langPrefix:"lang-",linkify:!1,typographer:!0,quotes:"\u201C\u201D\u2018\u2019",highlight:ne?function(i,t){if(t&&ne.getLanguage(t))try{return'<pre class="hljs"><code>'+ne.highlight(t,i,!0).value+"</code></pre>"}catch{}return'<pre class="hljs"><code>'+J.utils.escapeHtml(i)+"</code></pre>"}:null}),It=i=>Ke(i),ve=J.renderer.rules.link_open||function(i,t,e,n,s){return s.renderToken(i,t,e)};J.renderer.rules.link_open=function(i,t,e,n,s){const r=i[t].attrIndex("href");if(i[t].attrs[r][1].startsWith("#"))return ve(i,t,e,n,s);const a=i[t].attrIndex("target");return a<0?i[t].attrPush(["target","_blank"]):i[t].attrs[a][1]="_blank",ve(i,t,e,n,s)};J.use(ze,{}).use($e,{slugify:It}).use(Ie).use(Ce).use(Ve).use(Ee).use(Be).use(Re).use(De).use(Pe).use(qe).use(Z).use(Z,"hljs-left").use(Z,"hljs-center").use(Z,"hljs-right");const Ct=["innerHTML"],Vt=E({setup(i){const t=H(ae,x(!1)),e=H(oe,x("")),n=G(()=>({width:t.value?0:"50%"})),s=G(()=>J.render(e.value)+"<br />");return(r,a)=>(v(),w("div",{class:Ue(["squad-editor-preview-wrapper markdown-body",g(t)?"collapsed":""]),style:we(g(n)),id:"J_squad-editor-preview-wrapper",innerHTML:g(s)},null,14,Ct))}}),Et=E({props:{size:{default:()=>({minHeight:"300px",maxHeight:"600px"})}},setup(i,{expose:t}){const e=x();return t({editor:e}),(n,s)=>(v(),w("main",{class:"squad-editor-main-wrapper",style:we(i.size)},[D($t,{ref_key:"editor",ref:e},null,512),D(Vt)],4))}}),Bt=E({props:{value:{default:"Welcome to use SquadEditor!"},minHeight:{default:"300px"},maxHeight:{default:"600px"},tabKey:{default:"  "},uploader:null},emits:["update:value"],setup(i,{expose:t,emit:e}){const n=i,s=x(),r=x(),[a,c]=ue(!1),l=x(n.value),{undo:k,redo:L,canUndo:z,canRedo:X}=We(l),[B,$]=ue([0,0]),{toggle:Y}=Ae(r),ee=async d=>{if(!!d){if(d==="fullscreen"){Y();return}if(d==="undo"){k();return}if(d==="redo"){L();return}P.exec(d,l.value,B.value)}},le=async d=>{const f=d.target;$([f.selectionStart,f.selectionEnd]);const I=Qe(d);switch(d.key.toLowerCase()){case"enter":d.preventDefault(),$([f.selectionStart,f.selectionEnd]),await m(),P.handlerEnterPress(l.value,B.value);break;case"z":I&&(d.preventDefault(),k());break;case"y":I&&(d.preventDefault(),L());break;case"tab":d.preventDefault(),u(n.tabKey,"end");break}},h=async d=>{var f;(f=d.clipboardData)!=null&&f.types.includes("Files")&&(d.preventDefault(),await m(),n.uploader&&N.requestUpload(d.clipboardData.files))},u=(d,f="preserve",I)=>{var q,K;(K=(q=s.value)==null?void 0:q.editor)==null||K.replaceText(d,f,I)},b=d=>{l.value=d},P=new Xe(u,$),N=new Ye(u,$,()=>B.value,()=>l.value,n.uploader);return fe(()=>l,d=>{e("update:value",d.value)},{immediate:!0,deep:!0}),Fe(()=>{Ne()}),M(ae,a),M(Se,c),M(oe,l),M(ye,b),M(ke,B),M(be,$),M(_e,le),M(He,h),t({replaceValue:u}),(d,f)=>(v(),w("div",{ref_key:"squadEditorContainer",ref:r,class:"squad-editor"},[D(Lt,{"can-undo":g(z),"can-redo":g(X),onItemClick:ee},null,8,["can-undo","can-redo"]),D(Et,{ref_key:"editorWrapper",ref:s,size:{minHeight:i.minHeight,maxHeight:i.maxHeight}},null,8,["size"])],512))}});const Rt=E({setup(i){return(t,e)=>(v(),me(g(Bt),{value:"Hello Vue 3 + TypeScript + Vite",maxHeight:"1000px"}))}});Oe(Rt).mount("#app");
